{% extends 'base.html' %}
{% block title %}Registrazione{% endblock %}
{% block content %}
<h2>Crea un nuovo account</h2>
<form method="post">
    <label for="username">Nome utente</label>
    <input type="text" id="username" name="username" required autofocus>

    <label for="password">Password</label>
    <input type="password" id="password" name="password" required>

    {% if allow_role_selection %}
    <label for="role">Ruolo</label>
    <select id="role" name="role">
        <option value="user">Utente</option>
        <option value="admin">Amministratore</option>
    </select>
    {% elif not has_users %}
    <p class="info">Il primo account creato sarà amministratore.</p>
    {% endif %}

    <button type="submit">Registrati</button>
</form>
<p>Hai già un account? <a href="{{ url_for('auth.login') }}">Accedi</a>.</p>
{% endblock %}
