{% extends 'base.html' %}
{% set customer_record = customer if customer is defined else None %}
{% set is_edit_flag = is_edit if is_edit is defined else False %}
{% set editing = is_edit_flag or customer_record %}
{% block title %}{{ 'Modifica cliente' if editing else 'Nuovo cliente' }}{% endblock %}
{% block content %}
<h2>{{ 'Modifica cliente' if editing else 'Aggiungi cliente' }}</h2>
<form method="post">
    <label for="name">Nome *</label>
    <input type="text" id="name" name="name" required value="{{ request.form.get('name', customer_record['name'] if customer_record else '') }}">

    <label for="email">Email</label>
    <input type="email" id="email" name="email" value="{{ request.form.get('email', customer_record['email'] if customer_record else '') }}">

    <label for="phone">Telefono</label>
    <input type="text" id="phone" name="phone" value="{{ request.form.get('phone', customer_record['phone'] if customer_record else '') }}">

    <label for="address">Indirizzo</label>
    <textarea id="address" name="address" rows="3">{{ request.form.get('address', customer_record['address'] if customer_record else '') }}</textarea>

    <button type="submit">{{ 'Aggiorna' if editing else 'Salva' }}</button>
</form>
{% endblock %}
